palette = "RdYlGn",
direction = -1,
guide = guide_colorbar(
title = "Number of case",
title.hjust = 0.5,
direction = "horizontal",
nrow = 1,
keyheight = unit(3, units = "mm"),
keywidth = unit(3, units = "mm"),
title.position = "top")) +
theme_ipsum() +
theme(legend.direction = "horizontal",
legend.position = "bottom") +
labs(title = "",
subtitle = "Covid Cases Worldwide ")
title = "Number of case",
map_covid  %>%
ggplot() +
geom_sf(aes(fill = total), size = 0.1, color = "white") +
coord_sf(crs = "+proj=longlat") +
scale_fill_distiller(NULL,
palette = "RdYlGn",
direction = -1,
guide = guide_colorbar(
title = "Number of case",
title.hjust = 0.5,
direction = "horizontal",
nrow = 1,
keyheight = unit(3, units = "mm"),
keywidth = unit(3, units = "mm"),
title.position = "top")) +
theme_minimal() +
theme(legend.direction = "horizontal",
legend.position = "bottom") +
labs(title = "",
subtitle = "Covid Cases Worldwide ")
title = "Number of case",
map_covid  %>%
ggplot() +
geom_sf(aes(fill = total), size = 0.1, color = "white") +
coord_sf(crs = "+proj=longlat") +
scale_fill_distiller(NULL,
palette = "RdYlGn",
direction = -1,
guide = guide_colorbar(
title = "Number of case",
title.hjust = 0.5,
direction = "horizontal",
nrow = 1,
keyheight = unit(3, units = "mm"),
keywidth = unit(3, units = "mm"),
title.position = "top")) +
theme_minimal() +
theme(legend.direction = "horizontal",
legend.position = "bottom" ,
panel.grid.major.y = element_blank()) +
labs(title = "",
subtitle = "Covid Cases Worldwide ")
title = "Number of case",
map_covid  %>%
ggplot() +
geom_sf(aes(fill = total), size = 0.1, color = "white") +
coord_sf(crs = "+proj=longlat") +
scale_fill_distiller(NULL,
palette = "RdYlGn",
direction = -1,
guide = guide_colorbar(
title = "Number of case",
title.hjust = 0.5,
direction = "horizontal",
nrow = 1,
keyheight = unit(3, units = "mm"),
keywidth = unit(3, units = "mm"),
title.position = "top")) +
theme_minimal() +
theme(legend.direction = "horizontal",
legend.position = "bottom" ,
panel.grid.major.y = element_blank() , panel.grid.minor.y = element_blank()) +
labs(title = "",
subtitle = "Covid Cases Worldwide ")
title = "Number of case",
map_covid  %>%
ggplot() +
geom_sf(aes(fill = total), size = 0.1, color = "white") +
coord_sf(crs = "+proj=longlat") +
scale_fill_distiller(
palette = "RdYlGn",
direction = -1,
guide = guide_colorbar(
title = "Number of case",
title.hjust = 0.5,
direction = "horizontal",
nrow = 1,
keyheight = unit(3, units = "mm"),
keywidth = unit(3, units = "mm"),
title.position = "top"  ,
barheight =  10 , barwidth = 1)) +
theme_minimal() +
theme(legend.direction = "horizontal",
legend.position = "bottom" ,
panel.grid.major.y = element_blank() , panel.grid.minor.y = element_blank()) +
labs(title = "",
subtitle = "Covid Cases Worldwide ")
title = "Number of case",
map_covid  %>%
ggplot() +
geom_sf(aes(fill = total), size = 0.1, color = "white") +
coord_sf(crs = "+proj=longlat") +
scale_fill_distiller( palette = "RdYlGn",
direction = -1,
guide = guide_colorbar(
title = "Number of case",
title.hjust = 0.5,
direction = "horizontal",
nrow = 1,
keyheight = unit(3, units = "mm"),
keywidth = unit(3, units = "mm"),
title.position = "top"  ,
barheight =  1 , barwidth = 10)) +
theme_minimal() +
theme(legend.direction = "horizontal",
legend.position = "bottom" ,
panel.grid.major.y = element_blank() , panel.grid.minor.y = element_blank()) +
labs(title = "",
subtitle = "Covid Cases Worldwide ")
title = "Number of case",
map_covid  %>%
ggplot() +
geom_sf(aes(fill = total), size = 0.1, color = "white") +
coord_sf(crs = "+proj=longlat") +
scale_fill_distiller( palette = "RdYlGn",
direction = -1,
guide = guide_colorbar(
title = "Number of case",
title.hjust = 0.5,
direction = "horizontal",
nrow = 1,
keyheight = unit(3, units = "mm"),
keywidth = unit(3, units = "mm"),
title.position = "top"  ,
barheight =  1 , barwidth = 15)) +
theme_minimal() +
theme(legend.direction = "horizontal",
legend.position = "bottom" ,
panel.grid.major.y = element_blank() , panel.grid.minor.y = element_blank()) +
labs(title = "",
subtitle = "Covid Cases Worldwide ")
options(scipen = 999)
map_covid  %>%
ggplot() +
geom_sf(aes(fill = total), size = 0.1, color = "white") +
coord_sf(crs = "+proj=longlat") +
scale_fill_distiller( palette = "RdYlGn",
direction = -1,
guide = guide_colorbar(
title = "Number of case",
title.hjust = 0.5,
direction = "horizontal",
nrow = 1,
keyheight = unit(3, units = "mm"),
keywidth = unit(3, units = "mm"),
title.position = "top"  ,
barheight =  1 , barwidth = 15)) +
theme_minimal() +
theme(legend.direction = "horizontal",
legend.position = "bottom" ,
panel.grid.major.y = element_blank() , panel.grid.minor.y = element_blank()) +
labs(title = "",
subtitle = "Covid Cases Worldwide ")
map_covid  %>%
ggplot() +
geom_sf(aes(fill = total), size = 0.1, color = "white") +
coord_sf(crs = "+proj=longlat") +
scale_fill_distiller( palette = "RdYlGn",
direction = -1,
labels = scales::comma,
guide = guide_colorbar(
title = "Number of case",
title.hjust = 0.5,
direction = "horizontal",
nrow = 1,
keyheight = unit(3, units = "mm"),
keywidth = unit(3, units = "mm"),
title.position = "top"  ,
barheight =  1 , barwidth = 15)) +
theme_minimal() +
theme(legend.direction = "horizontal",
legend.position = "bottom" ,
panel.grid.major.y = element_blank() , panel.grid.minor.y = element_blank()) +
labs(title = "",
subtitle = "Covid Cases Worldwide ")
map_covid  %>%
ggplot() +
geom_sf(aes(fill = total), size = 0.1, color = "white") +
coord_sf(crs = "+proj=longlat") +
scale_fill_distiller( palette = "RdYlGn",
direction = -1,
labels = scales::comma,
guide = guide_colorbar(
title = "Number of case",
title.hjust = 0.5,
direction = "horizontal",
nrow = 1,
keyheight = unit(3, units = "mm"),
keywidth = unit(3, units = "mm"),
title.position = "top"  ,
barheight =  1 , barwidth = 15)) +
theme_minimal() +
theme(legend.direction = "horizontal",
legend.position = "bottom" ,
panel.grid.major.y = element_blank() , panel.grid.minor.y = element_blank()) +
labs(title = "",
subtitle = "Covid Cases Worldwide ")
map_covid  %>%
ggplot() +
geom_sf(aes(fill = total), size = 0.1, color = "white") +
coord_sf(crs = "+proj=longlat") +
scale_fill_distiller( palette = "RdYlGn",
direction = -1,
labels = paste0(fill, "M"),
breaks = 10^6 * fill
guide = guide_colorbar(
map_covid  %>%
ggplot() +
geom_sf(aes(fill = total), size = 0.1, color = "white") +
coord_sf(crs = "+proj=longlat") +
scale_fill_distiller( palette = "RdYlGn",
direction = -1,
labels = paste0(scales::comma/1e6, "M"),
guide = guide_colorbar(
title = "Number of case",
title.hjust = 0.5,
direction = "horizontal",
nrow = 1,
keyheight = unit(3, units = "mm"),
keywidth = unit(3, units = "mm"),
title.position = "top"  ,
barheight =  1 , barwidth = 15)) +
theme_minimal() +
theme(legend.direction = "horizontal",
legend.position = "bottom" ,
panel.grid.major.y = element_blank() , panel.grid.minor.y = element_blank()) +
labs(title = "",
subtitle = "Covid Cases Worldwide ")
map_covid  %>%
ggplot() +
geom_sf(aes(fill = total), size = 0.1, color = "white") +
coord_sf(crs = "+proj=longlat") +
scale_fill_distiller( palette = "RdYlGn",
direction = -1,
labels = paste0(total/1e6, "M"),
guide = guide_colorbar(
title = "Number of case",
title.hjust = 0.5,
direction = "horizontal",
nrow = 1,
keyheight = unit(3, units = "mm"),
keywidth = unit(3, units = "mm"),
title.position = "top"  ,
barheight =  1 , barwidth = 15)) +
theme_minimal() +
theme(legend.direction = "horizontal",
legend.position = "bottom" ,
panel.grid.major.y = element_blank() , panel.grid.minor.y = element_blank()) +
labs(title = "",
subtitle = "Covid Cases Worldwide ")
map_covid  %>%
ggplot() +
geom_sf(aes(fill = total), size = 0.1, color = "white") +
coord_sf(crs = "+proj=longlat") +
scale_fill_distiller( palette = "RdYlGn",
direction = -1,
labels = unit_format(unit = "M", scale = 1e-6),
guide = guide_colorbar(
title = "Number of case",
title.hjust = 0.5,
direction = "horizontal",
nrow = 1,
keyheight = unit(3, units = "mm"),
keywidth = unit(3, units = "mm"),
title.position = "top"  ,
barheight =  1 , barwidth = 15)) +
theme_minimal() +
theme(legend.direction = "horizontal",
legend.position = "bottom" ,
panel.grid.major.y = element_blank() , panel.grid.minor.y = element_blank()) +
labs(title = "",
subtitle = "Covid Cases Worldwide ")
map_covid  %>%
ggplot() +
geom_sf(aes(fill = total), size = 0.1, color = "white") +
coord_sf(crs = "+proj=longlat") +
scale_fill_distiller( palette = "RdYlGn",
direction = -1,
guide = guide_colorbar(
title = "Number of case",
title.hjust = 0.5,
direction = "horizontal",
nrow = 1,
keyheight = unit(3, units = "mm"),
keywidth = unit(3, units = "mm"),
title.position = "top"  ,
barheight =  1 , barwidth = 15)) +
theme_minimal() +
theme(legend.direction = "horizontal",
legend.position = "bottom" ,
panel.grid.major.y = element_blank() , panel.grid.minor.y = element_blank()) +
labs(title = "",
subtitle = "Covid Cases Worldwide ")
map_covi
map_covid
map_covid %>%
filter(admin = 'United States')
map_covid %>%
filter(admin == 'United States')
map_covid %>%
arrange(desc(total))
#getting total column
covid$total <- rowSums(covid[,c(1:314)] , na.rm = TRUE)
#extracting only the iso_a3 and total
map_covid <- covid %>%
select(iso_a3 , total)
map_covid %>%
arrange(desc(total))
covid
View(covid)
View(covid)
covid <- covid[-1 ,c(5:319)] %>%
rename('iso_a3' = 'iso_3166_1_alpha_3_codes')
covid <- read_csv('data/covid_jh.csv')
covid <- read_csv('data/covid_jh.csv')
covid <- clean_names(covid)
covid <- covid[-1 ,c(5:319)] %>%
rename('iso_a3' = 'iso_3166_1_alpha_3_codes')
covid <- covid[-1 ,c(318:319)] %>%
rename('iso_a3' = 'iso_3166_1_alpha_3_codes')
covid <- read_csv('data/covid_jh.csv')
covid <- read_csv('data/covid_jh.csv')
covid <- clean_names(covid)
covid <- covid[-1 ,c(318:319)] %>%
rename('iso_a3' = 'iso_3166_1_alpha_3_codes')
covid
covid <- read_csv('data/covid_jh.csv')
covid <- read_csv('data/covid_jh.csv')
covid <- clean_names(covid)
covid <- covid[-1 ,c(318:319)] %>%
rename('iso_a3' = 'iso_3166_1_alpha_3_codes')
covid
covid_1 <- read_csv('data/covid_jh.csv')
covid <- covid_1[-1 ,c(318:319)] %>%
rename('iso_a3' = 'iso_3166_1_alpha_3_codes') %>%
group_by(iso_a3) %>%
summarise(total = sum(x11_30_20))
covid_1 <- read_csv('data/covid_jh.csv')
covid_1<- clean_names(covid)
covid_1<- clean_names(covid_1)
covid_1 <- read_csv('data/covid_jh.csv')
covid_1<- clean_names(covid_1)
covid <- covid_1[-1 ,c(318:319)] %>%
rename('iso_a3' = 'iso_3166_1_alpha_3_codes') %>%
group_by(iso_a3) %>%
summarise(total = sum(x11_30_20))
covid
#extracting only the iso_a3 and total
map_covid <- covid %>%
select(iso_a3 , total)
#getting geometrty and isocodes
earth <- ne_countries(scale = 50, returnclass = "sf") %>%
select(admin, geometry, iso_a3)
map_covid <- left_join(map_covid , earth , by = 'iso_a3')
map_covid <- map_covid %>%
select(admin, total, geometry) %>%
sf::st_as_sf()
options(scipen = 999)
map_covid  %>%
ggplot() +
geom_sf(aes(fill = total), size = 0.1, color = "white") +
coord_sf(crs = "+proj=longlat") +
scale_fill_distiller( palette = "RdYlGn",
direction = -1,
labels = unit_format(unit = "M", scale = 1e-6),
guide = guide_colorbar(
title = "Number of case",
title.hjust = 0.5,
direction = "horizontal",
nrow = 1,
keyheight = unit(3, units = "mm"),
keywidth = unit(3, units = "mm"),
title.position = "top"  ,
barheight =  1 , barwidth = 15)) +
theme_minimal() +
theme(legend.direction = "horizontal",
legend.position = "bottom" ,
panel.grid.major.y = element_blank() , panel.grid.minor.y = element_blank()) +
labs(title = "",
subtitle = "Covid Cases Worldwide ")
map_covid  %>%
ggplot() +
geom_sf(aes(fill = log(total)), size = 0.1, color = "white") +
coord_sf(crs = "+proj=longlat") +
scale_fill_distiller( palette = "RdYlGn",
direction = -1,
guide = guide_colorbar(
title = "Number of cases",
title.hjust = 0.5,
direction = "horizontal",
nrow = 1,
keyheight = unit(3, units = "mm"),
keywidth = unit(3, units = "mm"),
title.position = "top"  ,
barheight =  1.25 , barwidth = 15)) +
theme_minimal() +
theme(legend.direction = "horizontal",
legend.position = "bottom" ,
panel.grid.major.y = element_blank() , panel.grid.minor.y = element_blank()) +
labs(title = "",
subtitle = "Covid Cases Worldwide ")
map_covid  %>%
ggplot() +
geom_sf(aes(fill = total), size = 0.1, color = "white") +
coord_sf(crs = "+proj=longlat") +
scale_fill_distiller( palette = "Spectral",
direction = -1,
labels = unit_format(unit = "M", scale = 1e-6),
guide = guide_colorbar(
title = "Number of cases",
title.hjust = 0.5,
direction = "horizontal",
nrow = 1,
keyheight = unit(3, units = "mm"),
keywidth = unit(3, units = "mm"),
title.position = "top"  ,
barheight =  1.25 , barwidth = 15)) +
theme_minimal() +
theme(legend.direction = "horizontal",
legend.position = "bottom" ,
panel.grid.major.y = element_blank() , panel.grid.minor.y = element_blank()) +
labs(title = "",
subtitle = "Covid Cases Worldwide ")
#importing dataset
library(gapminder)
gapminder
#extracting populatuion
gapminder %>%
filter(year = 2020)
gapminder
#extracting populatuion
gapminder %>%
filter(year = 2009)
install.packages('wp2019')
#extracting populatuion
library(wp2019)
install.packages('wpp2019')
#extracting populatuion
library(wpp2019)
wpp2019
wpp2019::pop
wpp2019::data(pop)
data(pop)
pop
#getting geometrty and isocodes
ne_countries(scale = 50, returnclass = "sf") %>%
select(admin, geometry, iso_a3)
#getting geometrty and isocodes
ne_countries(scale = 50, returnclass = "sf")
#getting geometrty and isocodes
ne_countries(scale = 50, returnclass = "sf") %>%
select(iso_a3  , un_a3 )
#getting geometrty and isocodes
iso_un <- ne_countries(scale = 50, returnclass = "sf") %>%
select(iso_a3  , un_a3 )
pop
pop_2020 <- pop %>%
select(country_code , 2020)
pop
pop_2020 <- pop %>%
select(c(1,17))
pop_2020
left_join(pop_202, iso_un , by = c('country_code' = 'un_a3'))
left_join(pop_2020, iso_un , by = c('country_code' = 'un_a3'))
#getting geometrty and isocodes
iso_un <- ne_countries(scale = 50, returnclass = "sf") %>%
select(iso_a3  , un_a3 )
left_join(pop_2020, iso_un , by = c('country_code' = 'un_a3'))
iso_un
ne_countries
left_join(pop_2020, iso_un , by = c('country_code' = 'un_a3'))
pop_2020
glimpse$pop_2020
glimpse(pop_2020)
left_join(pop_2020, iso_un , by = c('country_code ' = 'un_a3'))
left_join(pop_2020, iso_un , by = c('country_code' = 'un_a3'))
#getting geometrty and isocodes
iso_un <- ne_countries(scale = 50, returnclass = "sf") %>%
select(iso_a3  , un_a3 ) %>%
mutate(un_a3 = as.integer(un_a3))
left_join(pop_2020, iso_un , by = c('country_code' = 'un_a3'))
iso_un
left_join(pop_2020, iso_un , by = c('country_code' = 'un_a3'))
View(left_join(pop_2020, iso_un , by = c('country_code' = 'un_a3')))
View(left_join(pop_2020, iso_un , by = c('country_code' = 'un_a3')))
ne_countries(scale = 50, returnclass = "sf")
#getting geometrty and isocodes
iso_un <- ne_countries(scale = 50, returnclass = "sf") %>%
select(iso_a3  , un_a3 , iso_n3  ) %>%
mutate(un_a3 = as.integer(un_a3))
left_join(pop_2020, iso_un , by = c('country_code' = 'iso_n3'))
#getting geometrty and isocodes
iso_un <- ne_countries(scale = 50, returnclass = "sf") %>%
select(iso_a3  , un_a3 , iso_n3  ) %>%
mutate(un_a3 = as.integer(un_a3) , iso_n3 = as.integer(iso_n3))
left_join(pop_2020, iso_un , by = c('country_code' = 'iso_n3'))
